{"version":3,"file":"js/477.8a60b054.js","mappings":"gKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAOJ,EAAIK,SAASC,GAAG,CAAC,UAAYN,EAAIO,aAAaL,EAAG,gBAAgB,CAACE,MAAM,CAAC,QAAUJ,EAAIQ,sBAAsBF,GAAG,CAAC,MAAQN,EAAIS,mBAAmB,OAAST,EAAIU,UAAUR,EAAG,MAAM,CAACS,YAAY,mBAAmB,CAACT,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,eAAe,MAAQ,GAAG,KAAO,WAAWE,GAAG,CAAC,MAAQN,EAAIY,oBAAoB,CAACZ,EAAIa,GAAG,UAAUX,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,gBAAgB,MAAQ,IAAIE,GAAG,CAAC,MAAQN,EAAIc,gBAAgB,CAACd,EAAIa,GAAG,WAAW,IAAI,EAC1jB,EACIE,EAAkB,GCFlBhB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,WAAWF,EAAIgB,GAAG,CAACC,YAAY,CAAC,MAAQ,QAAQb,MAAM,CAAC,QAAS,IAAO,WAAWJ,EAAIkB,QAAO,GAAO,CAAChB,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,IAAI,MAAQ,MAAMe,YAAYnB,EAAIoB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACrB,EAAG,cAAc,CAACE,MAAM,CAAC,SAAmC,WAAxBmB,EAAMC,IAAIC,YAAyBC,MAAM,CAACC,MAAOJ,EAAMC,IAAII,QAASC,SAAS,SAAUC,GAAM9B,EAAI+B,KAAKR,EAAMC,IAAK,UAAWM,EAAI,EAAEE,WAAW,uBAAuB,OAAO9B,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,SAAS,MAAQ,KAAK,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,KAAK,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,YAAY,MAAQ,KAAK,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,cAAc,MAAQ,KAAK,MAAQ,OAAOe,YAAYnB,EAAIoB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACrB,EAAG,IAAI,CAACS,YAAY,iBAAiBT,EAAG,OAAO,CAACe,YAAY,CAAC,cAAc,SAAS,CAACjB,EAAIa,GAAGb,EAAIiC,GAAGV,EAAMC,IAAIU,gBAAgB,OAAOhC,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,aAAa,MAAQ,KAAK,MAAQ,OAAOe,YAAYnB,EAAIoB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAA0B,WAAxBA,EAAMC,IAAIC,WAAyBvB,EAAG,OAAO,CAACe,YAAY,CAAC,MAAQ,YAAY,CAACjB,EAAIa,GAAG,UAAmC,QAAxBU,EAAMC,IAAIC,WAAsBvB,EAAG,OAAO,CAACe,YAAY,CAAC,MAAQ,YAAY,CAACjB,EAAIa,GAAG,UAAUX,EAAG,OAAO,CAACe,YAAY,CAAC,MAAQ,YAAY,CAACjB,EAAIa,GAAG,SAAS,OAAOX,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,QAAQ,MAAQ,KAAK,MAAQ,OAAOe,YAAYnB,EAAIoB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACrB,EAAG,YAAY,CAACe,YAAY,CAAC,MAAQ,OAAOb,MAAM,CAAC,SAAmC,WAAxBmB,EAAMC,IAAIC,WAAwB,KAAO,QAAQnB,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAOnC,EAAIO,UAAUgB,EAAMa,OAAQb,EAAMC,IAAI,IAAI,CAACxB,EAAIa,GAAG,SAAS,QAAQ,IAAI,EAC51D,EACIE,EAAkB,GCFlBhB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,YAAYF,EAAIqC,GAAGrC,EAAIgB,GAAG,CAACZ,MAAM,CAAC,MAAQ,QAAQE,GAAG,CAAC,OAASN,EAAIsC,SAAS,YAAYtC,EAAIkB,QAAO,GAAOlB,EAAIuC,YAAY,CAACrC,EAAG,UAAU,CAACsC,IAAI,OAAOpC,MAAM,CAAC,MAAQJ,EAAIyC,QAAQ,iBAAiB,OAAO,cAAc,QAAQ,MAAQ,CACrSC,UAAW,CACT,CACEC,KAAM,QACNC,UAAU,EACVC,QAAS,eACTC,QAAS,SAGbC,OAAQ,CACN,CACEJ,KAAM,SACNK,IAAK,EACLJ,UAAU,EACVC,QAAS,eACTC,QAAS,SAGbG,MAAO,CACL,CACED,IAAK,EACLL,KAAM,SACNC,UAAU,EACVC,QAAS,gBACTC,QAAS,YAGX,CAAC5C,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,KAAO,cAAc,CAACF,EAAG,cAAc,CAACS,YAAY,YAAYP,MAAM,CAAC,QAAUJ,EAAIkD,aAAa,MAAQ,CAAEC,cAAe,SAAU,SAAWnD,EAAIyC,QAAQE,MAAMjB,MAAM,CAACC,MAAO3B,EAAIyC,QAAQC,UAAWb,SAAS,SAAUC,GAAM9B,EAAI+B,KAAK/B,EAAIyC,QAAS,YAAaX,EAAI,EAAEE,WAAW,wBAAwB,GAAG9B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,KAAK,KAAO,WAAW,CAACF,EAAG,WAAW,CAACS,YAAY,YAAYP,MAAM,CAAC,YAAc,MAAMsB,MAAM,CAACC,MAAO3B,EAAIyC,QAAQM,OAAQlB,SAAS,SAAUC,GAAM9B,EAAI+B,KAAK/B,EAAIyC,QAAS,SAAUzC,EAAIoD,GAAGtB,GAAK,EAAEE,WAAW,qBAAqB,GAAG9B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACF,EAAG,WAAW,CAACS,YAAY,qBAAqBP,MAAM,CAAC,YAAc,MAAMsB,MAAM,CAACC,MAAO3B,EAAIyC,QAAQQ,MAAOpB,SAAS,SAAUC,GAAM9B,EAAI+B,KAAK/B,EAAIyC,QAAS,QAASzC,EAAIoD,GAAGtB,GAAK,EAAEE,WAAW,oBAAoB,GAAG9B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACF,EAAG,iBAAiB,CAACS,YAAY,YAAYP,MAAM,CAAC,KAAO,OAAO,YAAc,WAAW,OAAS,aAAa,eAAe,cAAcsB,MAAM,CAACC,MAAO3B,EAAIyC,QAAQP,YAAaL,SAAS,SAAUC,GAAM9B,EAAI+B,KAAK/B,EAAIyC,QAAS,cAAeX,EAAI,EAAEE,WAAW,0BAA0B,IAAI,GAAG9B,EAAG,MAAM,CAACE,MAAM,CAAC,KAAO,UAAUiD,KAAK,UAAU,CAACnD,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWE,GAAG,CAAC,MAAQN,EAAIsD,WAAW,CAACtD,EAAIa,GAAG,UAAUX,EAAG,YAAY,CAACI,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAOnC,EAAIuD,MAAM,QAAQ,IAAI,CAACvD,EAAIa,GAAG,SAAS,IAAI,EAC37C,EACIE,EAAkB,G,oBC+DtB,GACAyC,KAAAA,WACA,QACA,EACAC,OAAAA,CAAAA,EAAAA,GACAC,QAAAA,CACAJ,WACA,iCACA,GACA,8BACA,qBACA1B,SAAAA,EACAH,WAAAA,GACAkC,SAAAA,KAAAA,QACAC,KAAAA,KAAAA,QAAAA,UAAAA,GACAjB,KAAAA,KAAAA,QAAAA,UAAAA,GACAM,MAAAA,KAAAA,QAAAA,MACAF,OAAAA,KAAAA,QAAAA,OACAb,YAAAA,KAAAA,QAAAA,YAAAA,KAAAA,QAAAA,aAAAA,EAAAA,EAAAA,IAAAA,IAAAA,MACA2B,UAAAA,KAAAA,QAAAA,OAAAA,KAAAA,QAAAA,QAEA,qBAEA,kCACA,GAEA,ICtH+Q,I,UCQ3QC,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAeA,EAAiB,QCsChC,GACAC,WAAAA,CAAAC,cAAAA,GACAR,KAAAA,WACA,QACA,EACAE,QAAAA,CACAnD,UAAAA,EAAAA,GACA,2BACA,ICjEuQ,ICOnQ,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QCahC,GACAwD,WAAAA,CAAAE,MAAAA,EAAAD,cAAAA,GACAR,KAAAA,WACA,QACA,EACAU,SAAAA,CAAAA,EACAT,OAAAA,CAAAA,EAAAA,GACAC,QAAAA,CACA5C,gBACA,gEACA,ICzCuQ,ICQnQ,GAAY,OACd,EACAf,EACAgB,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,O,8GChBzB,MAAMoD,EAAgB,CACzBX,OACI,MAAO,CACHnD,QAAS,GACTG,sBAAsB,EAE9B,EACAkD,QAAS,CACLjD,qBACIR,KAAKO,sBAAuB,CAChC,EAEAI,oBACIX,KAAKO,sBAAuB,CAChC,EAEAE,OAAO0D,GACHC,QAAQC,IAAIF,GACZnE,KAAKI,QAAQkE,KAAKH,EACtB,EAEA7D,UAAUiE,EAAUC,GAChBxE,KAAKyE,SAAS,cAAe,KAAM,CAC/B/B,KAAM,UACNgC,kBAAmB,KACnBC,iBAAkB,OACnBC,MAAK,KACJ5E,KAAKI,QAAQyE,OAAON,EAAU,GAC9BvE,KAAK8E,SAASC,QAAQ,OAAO,GAErC,EAEAC,WAAWtC,EAAMuC,GACb,IAAIC,EAAMC,EAAAA,GACE,YAARzC,IAAoBwC,EAAME,EAAAA,IAC9B,IAAK,IAAI7B,KAAQvD,KAAKqF,cAAe,CACjC,IAAIC,EAAW,CAAC,EAChBL,EAAWM,SAASC,IAChBF,EAASE,GAASjC,EAAKiC,EAAM,IAEjC,IAAIC,QAAYP,EAAII,GAAUI,OAAOC,IAAUpC,EAAK/B,WAAa,MAAM,IAEhD,KAAnBiE,EAAIlC,KAAKqC,OACTrC,EAAK/B,WAAa,UAElB+B,EAAK/B,WAAa,MAE1B,CACJ,GAEJyC,SAAU,CAENoB,gBACI,OAAOrF,KAAKI,QAAQyF,QACftC,GAASA,EAAK5B,SAA8B,WAAnB4B,EAAK/B,YAEvC,IAMKsE,EAAiB,CAC1BvC,KAAM,WACF,MAAO,CACHf,QAAS,CAAC,EAElB,EACAyB,SAAU,KACH8B,EAAAA,EAAAA,IAAS,QAAS,CAAC,eAAgB,2BACtCC,QAAS,WACL,IAAK,IAAIC,KAAUjG,KAAKiD,aACpB,GAAIgD,EAAOC,OAASlG,KAAKwC,QAAQC,UAAU,GACvC,IAAK,IAAI0D,KAAiBF,EAAOG,SAC7B,GAAID,EAAcD,OAASlG,KAAKwC,QAAQC,UAAU,GAC9C,OAAO0D,EAAczC,SAKrC,MAAO,EACX,GAEJD,QAAS,CACLpB,SACIrC,KAAKwC,QAAU,CAAC,EAChBxC,KAAKqG,MAAM,QAAQC,aACvB,G","sources":["webpack://wms-client/./src/view/StoreIn/Add/index.vue","webpack://wms-client/./src/view/StoreIn/Add/Table.vue","webpack://wms-client/./src/view/StoreIn/Add/AddFormDailog.vue","webpack://wms-client/src/view/StoreIn/Add/AddFormDailog.vue","webpack://wms-client/./src/view/StoreIn/Add/AddFormDailog.vue?24de","webpack://wms-client/./src/view/StoreIn/Add/AddFormDailog.vue?93e0","webpack://wms-client/src/view/StoreIn/Add/Table.vue","webpack://wms-client/./src/view/StoreIn/Add/Table.vue?b7ac","webpack://wms-client/./src/view/StoreIn/Add/Table.vue?cab1","webpack://wms-client/src/view/StoreIn/Add/index.vue","webpack://wms-client/./src/view/StoreIn/Add/index.vue?297e","webpack://wms-client/./src/view/StoreIn/Add/index.vue?e0c9","webpack://wms-client/./src/mixin/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Table',{attrs:{\"data\":_vm.addData},on:{\"removeRow\":_vm.removeRow}}),_c('AddFormDailog',{attrs:{\"visible\":_vm.addFormDailogVisible},on:{\"close\":_vm.addFormDailogClose,\"addRow\":_vm.addRow}}),_c('div',{staticClass:\"control-warpper\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"round\":\"\",\"type\":\"primary\"},on:{\"click\":_vm.addFormDailogOpen}},[_vm._v(\"新增一条\")]),_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-check\",\"round\":\"\"},on:{\"click\":_vm.postRecording}},[_vm._v(\"提交选中\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-table',_vm._b({staticStyle:{\"width\":\"100%\"},attrs:{\"stripe\":true}},'el-table',_vm.$attrs,false),[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"#\",\"width\":\"40\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-checkbox',{attrs:{\"disabled\":scope.row.postStatus == 'success'},model:{value:(scope.row.checked),callback:function ($$v) {_vm.$set(scope.row, \"checked\", $$v)},expression:\"scope.row.checked\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"amount\",\"label\":\"数量\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"单价\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"totalCost\",\"label\":\"成本\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"updata_date\",\"label\":\"日期\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\"}),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.updata_date))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"postStatus\",\"label\":\"状态\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.postStatus == 'success')?_c('span',{staticStyle:{\"color\":\"#67c23a\"}},[_vm._v(\"入库成功\")]):(scope.row.postStatus == 'fail')?_c('span',{staticStyle:{\"color\":\"#f56c6c\"}},[_vm._v(\"入库失败\")]):_c('span',{staticStyle:{\"color\":\"#e6a23c\"}},[_vm._v(\"待提交\")])]}}])}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"color\":\"red\"},attrs:{\"disabled\":scope.row.postStatus == 'success',\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeRow(scope.$index, scope.row)}}},[_vm._v(\"删除 \")])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',_vm._g(_vm._b({attrs:{\"title\":\"添加库存\"},on:{\"closed\":_vm.closed}},'el-dialog',_vm.$attrs,false),_vm.$listeners),[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addForm,\"label-position\":\"left\",\"label-width\":\"100px\",\"rules\":{\n      name_type: [\n        {\n          type: 'array',\n          required: true,\n          message: '请输入要入库的名称及类型',\n          trigger: 'blur',\n        },\n      ],\n      amount: [\n        {\n          type: 'number',\n          min: 1,\n          required: true,\n          message: '请输要入库的数量(数字)',\n          trigger: 'blur',\n        },\n      ],\n      price: [\n        {\n          min: 0,\n          type: 'number',\n          required: true,\n          message: '请输入要入库的单价(数字)',\n          trigger: 'blur',\n        },\n      ],\n    }}},[_c('el-form-item',{attrs:{\"label\":\"名称/类型\",\"prop\":\"name_type\"}},[_c('el-cascader',{staticClass:\"form-item\",attrs:{\"options\":_vm.storeOptions,\"props\":{ expandTrigger: 'hover' },\"children\":_vm.addForm.type},model:{value:(_vm.addForm.name_type),callback:function ($$v) {_vm.$set(_vm.addForm, \"name_type\", $$v)},expression:\"addForm.name_type\"}})],1),_c('el-form-item',{attrs:{\"label\":\"数量\",\"prop\":\"amount\"}},[_c('el-input',{staticClass:\"form-item\",attrs:{\"placeholder\":\"数量\"},model:{value:(_vm.addForm.amount),callback:function ($$v) {_vm.$set(_vm.addForm, \"amount\", _vm._n($$v))},expression:\"addForm.amount\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单价\",\"prop\":\"price\"}},[_c('el-input',{staticClass:\"el-input form-item\",attrs:{\"placeholder\":\"单价\"},model:{value:(_vm.addForm.price),callback:function ($$v) {_vm.$set(_vm.addForm, \"price\", _vm._n($$v))},expression:\"addForm.price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"日期\",\"prop\":\"date\"}},[_c('el-date-picker',{staticClass:\"form-item\",attrs:{\"type\":\"date\",\"placeholder\":\"不填默认当前时间\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.addForm.updata_date),callback:function ($$v) {_vm.$set(_vm.addForm, \"updata_date\", $$v)},expression:\"addForm.updata_date\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.complete}},[_vm._v(\"立即添加\")]),_c('el-button',{on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\"取消\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    title=\"添加库存\"\r\n    v-bind=\"$attrs\"\r\n    v-on=\"$listeners\"\r\n    @closed=\"closed\"\r\n  >\r\n    <el-form\r\n      :model=\"addForm\"\r\n      label-position=\"left\"\r\n      label-width=\"100px\"\r\n      :rules=\"{\r\n        name_type: [\r\n          {\r\n            type: 'array',\r\n            required: true,\r\n            message: '请输入要入库的名称及类型',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        amount: [\r\n          {\r\n            type: 'number',\r\n            min: 1,\r\n            required: true,\r\n            message: '请输要入库的数量(数字)',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        price: [\r\n          {\r\n            min: 0,\r\n            type: 'number',\r\n            required: true,\r\n            message: '请输入要入库的单价(数字)',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n      }\"\r\n      ref=\"form\"\r\n    >\r\n      <el-form-item label=\"名称/类型\" prop=\"name_type\">\r\n        <el-cascader\r\n          class=\"form-item\"\r\n          :options=\"storeOptions\"\r\n          :props=\"{ expandTrigger: 'hover' }\"\r\n          v-model=\"addForm.name_type\"\r\n          :children=\"addForm.type\"\r\n        >\r\n          <!-- <template slot-scope=\"{ node, data }\">\r\n            <span>{{ data.label }}</span>\r\n            <span v-if=\"!node.isLeaf\"> ({{ data.children.length }}) </span>\r\n            <span>{{ (t = data) }}</span>\r\n          </template> -->\r\n        </el-cascader>\r\n      </el-form-item>\r\n      <el-form-item label=\"数量\" prop=\"amount\">\r\n        <el-input\r\n          class=\"form-item\"\r\n          v-model.number=\"addForm.amount\"\r\n          placeholder=\"数量\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"单价\" prop=\"price\">\r\n        <el-input\r\n          class=\"el-input form-item\"\r\n          v-model.number=\"addForm.price\"\r\n          placeholder=\"单价\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"日期\" prop=\"date\">\r\n        <el-date-picker\r\n          v-model=\"addForm.updata_date\"\r\n          type=\"date\"\r\n          placeholder=\"不填默认当前时间\"\r\n          format=\"yyyy-MM-dd\"\r\n          value-format=\"yyyy-MM-dd\"\r\n          class=\"form-item\"\r\n        >\r\n        </el-date-picker>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\">\r\n      <el-button @click=\"complete\" type=\"primary\">立即添加</el-button>\r\n      <el-button @click=\"$emit('close')\">取消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { storeAddDailog } from \"@/mixin\";\r\nimport { formatDate } from \"@/utils\";\r\nexport default {\r\n  data: function () {\r\n    return {};\r\n  },\r\n  mixins: [storeAddDailog],\r\n  methods: {\r\n    complete() {\r\n      this.$refs[\"form\"].validate((valid) => {\r\n        if (valid) {\r\n          this.$message.success(\"添加成功\");\r\n          this.$emit(\"addRow\", {\r\n            checked: true,\r\n            postStatus: \"\",\r\n            stock_id: this.stockId,\r\n            name: this.addForm.name_type[0],\r\n            type: this.addForm.name_type[1],\r\n            price: this.addForm.price,\r\n            amount: this.addForm.amount,\r\n            updata_date: this.addForm.updata_date?this.addForm.updata_date:formatDate(new Date()),\r\n            totalCost: this.addForm.amount * this.addForm.price,\r\n          });\r\n          this.$emit(\"close\");\r\n        } else {\r\n          this.$message.error(\"添加失败,请检查格式!\");\r\n        }\r\n      });\r\n    },\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-input {\r\n  width: 30%;\r\n}\r\n.form-item {\r\n  margin-right: 25px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddFormDailog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddFormDailog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddFormDailog.vue?vue&type=template&id=0143c182&scoped=true&\"\nimport script from \"./AddFormDailog.vue?vue&type=script&lang=js&\"\nexport * from \"./AddFormDailog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddFormDailog.vue?vue&type=style&index=0&id=0143c182&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0143c182\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <el-table v-bind=\"$attrs\" :stripe=\"true\" style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" label=\"#\" width=\"40\">\r\n        <template slot-scope=\"scope\">\r\n          <el-checkbox\r\n            v-model=\"scope.row.checked\"\r\n            :disabled=\"scope.row.postStatus == 'success'\"\r\n          ></el-checkbox>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"name\" label=\"名称\"> </el-table-column>\r\n      <el-table-column prop=\"type\" label=\"类型\"> </el-table-column>\r\n      <el-table-column prop=\"amount\" label=\"数量\" width=\"80\"></el-table-column>\r\n      <el-table-column prop=\"price\" label=\"单价\" width=\"80\"></el-table-column>\r\n      <el-table-column\r\n        prop=\"totalCost\"\r\n        label=\"成本\"\r\n        width=\"80\"\r\n      ></el-table-column>\r\n\r\n      <el-table-column prop=\"updata_date\" label=\"日期\" width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <i class=\"el-icon-time\"></i>\r\n          <span style=\"margin-left:10px\">{{ scope.row.updata_date }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"postStatus\" label=\"状态\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"scope.row.postStatus == 'success'\" style=\"color: #67c23a\"\r\n            >入库成功</span\r\n          >\r\n          <span\r\n            v-else-if=\"scope.row.postStatus == 'fail'\"\r\n            style=\"color: #f56c6c\"\r\n            >入库失败</span\r\n          >\r\n          <span v-else style=\"color: #e6a23c\">待提交</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            :disabled=\"scope.row.postStatus == 'success'\"\r\n            type=\"text\"\r\n            @click=\"removeRow(scope.$index, scope.row)\"\r\n            style=\"color: red\"\r\n            >删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddFormDailog from \"./AddFormDailog\";\r\nexport default {\r\n  components: { AddFormDailog },\r\n  data: function () {\r\n    return {};\r\n  },\r\n  methods: {\r\n    removeRow(rowIndex, rowData) {\r\n      this.$emit(\"removeRow\", rowIndex, rowData);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Table.vue?vue&type=template&id=b7093e3a&scoped=true&\"\nimport script from \"./Table.vue?vue&type=script&lang=js&\"\nexport * from \"./Table.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7093e3a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <Table :data=\"addData\" @removeRow=\"removeRow\" />\r\n    <AddFormDailog\r\n      :visible=\"addFormDailogVisible\"\r\n      @close=\"addFormDailogClose\"\r\n      @addRow=\"addRow\"\r\n    />\r\n    <div class=\"control-warpper\">\r\n      <el-button\r\n        icon=\"el-icon-plus\"\r\n        round\r\n        type=\"primary\"\r\n        @click=\"addFormDailogOpen\"\r\n        >新增一条</el-button\r\n      >\r\n      <el-button\r\n        @click=\"postRecording\"\r\n        type=\"success\"\r\n        icon=\"el-icon-check\"\r\n        round\r\n        >提交选中</el-button\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Table from \"./Table\";\r\nimport AddFormDailog from \"./AddFormDailog\";\r\nimport { storeAddIndex } from \"@/mixin\";\r\nexport default {\r\n  components: { Table, AddFormDailog },\r\n  data: function () {\r\n    return {};\r\n  },\r\n  computed: {},\r\n  mixins: [storeAddIndex],\r\n  methods: {\r\n    postRecording() {\r\n      this.post(\"inStore\", [\"stock_id\", \"price\", \"amount\", \"updata_date\"]);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.control-warpper {\r\n  margin-top: 50px;\r\n  display: flex;\r\n  justify-content: right;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=48397edd&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=48397edd&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48397edd\",\n  null\n  \n)\n\nexport default component.exports","import { mapState } from \"vuex\";\r\nimport { inStore, outStore } from \"@/api/store\";\r\n\r\nexport const storeAddIndex = {\r\n    data() {\r\n        return {\r\n            addData: [],\r\n            addFormDailogVisible: false,\r\n        };\r\n    },\r\n    methods: {\r\n        addFormDailogClose() {\r\n            this.addFormDailogVisible = false;\r\n        },\r\n\r\n        addFormDailogOpen() {\r\n            this.addFormDailogVisible = true;\r\n        },\r\n        //添加一条记录行\r\n        addRow(rwoData) {\r\n            console.log(rwoData);\r\n            this.addData.push(rwoData);\r\n        },\r\n        //删除一条记录行\r\n        removeRow(rowIndex, rowData) {\r\n            this.$confirm(\"是否确认执行删除操作?\", \"提示\", {\r\n                type: \"warning\",\r\n                confirmButtonText: \"确认\",\r\n                cancelButtonText: \"取消\",\r\n            }).then(() => {\r\n                this.addData.splice(rowIndex, 1);\r\n                this.$message.success(\"删除成功\");\r\n            });\r\n        },\r\n        //提交记录到服务器\r\n        async post(type, dataFields) {\r\n            let api = inStore\r\n            if (type == \"outStore\") api = outStore\r\n            for (let data of this.filterAddData) {\r\n                let postData = {}\r\n                dataFields.forEach((field) => {\r\n                    postData[field] = data[field]\r\n                })\r\n                let res = await api(postData).catch((err) => { data.postStatus = \"fail\" });\r\n\r\n                if (res.data.status == 200) {\r\n                    data.postStatus = \"success\";\r\n                } else {\r\n                    data.postStatus = \"fail\";\r\n                }\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        // 过滤非选中和已完成状态将提交数据\r\n        filterAddData() {\r\n            return this.addData.filter(\r\n                (data) => data.checked && data.postStatus != \"success\"\r\n            );\r\n        },\r\n    },\r\n\r\n}\r\n\r\n\r\nexport const storeAddDailog = {\r\n    data: function () {\r\n        return {\r\n            addForm: {}\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState(\"store\", [\"storeOptions\", \"transportStatusOptions\"]),\r\n        stockId: function () {\r\n            for (let option of this.storeOptions) {\r\n                if (option.label == this.addForm.name_type[0]) {\r\n                    for (let childerOption of option.children) {\r\n                        if (childerOption.label == this.addForm.name_type[1]) {\r\n                            return childerOption.stock_id;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return \"\";\r\n        },\r\n    },\r\n    methods: {\r\n        closed() {\r\n            this.addForm = {};\r\n            this.$refs[\"form\"].resetFields();\r\n        },\r\n    }\r\n}"],"names":["render","_vm","this","_c","_self","attrs","addData","on","removeRow","addFormDailogVisible","addFormDailogClose","addRow","staticClass","addFormDailogOpen","_v","postRecording","staticRenderFns","_b","staticStyle","$attrs","scopedSlots","_u","key","fn","scope","row","postStatus","model","value","checked","callback","$$v","$set","expression","_s","updata_date","$event","$index","_g","closed","$listeners","ref","addForm","name_type","type","required","message","trigger","amount","min","price","storeOptions","expandTrigger","_n","slot","complete","$emit","data","mixins","methods","stock_id","name","totalCost","component","components","AddFormDailog","Table","computed","storeAddIndex","rwoData","console","log","push","rowIndex","rowData","$confirm","confirmButtonText","cancelButtonText","then","splice","$message","success","async","dataFields","api","inStore","outStore","filterAddData","postData","forEach","field","res","catch","err","status","filter","storeAddDailog","mapState","stockId","option","label","childerOption","children","$refs","resetFields"],"sourceRoot":""}