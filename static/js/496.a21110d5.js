"use strict";(self["webpackChunkwms_client"]=self["webpackChunkwms_client"]||[]).push([[496],{7457:function(t,e,a){a.d(e,{Z:function(){return d}});var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"warpper"},[e("el-pagination",t._g(t._b({attrs:{background:"",layout:"prev, pager, next"}},"el-pagination",t.$attrs,!1),t.$listeners))],1)},r=[],o={},i=o,n=a(1001),s=(0,n.Z)(i,l,r,!1,null,"74a772a0",null),d=s.exports},4598:function(t,e,a){a.d(e,{Z:function(){return m}});var l=function(){var t=this,e=t._self._c;return e("el-form",t._b({attrs:{inline:!0,model:t.form}},"el-form",t.$attrs,!1),[t.nameFilter?e("el-form-item",{attrs:{label:"名称"}},[e("el-select",{attrs:{placeholder:"名称不限",clearable:""},on:{change:t.nameOptionsChange},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(t.storeOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),t.typeFilter?e("el-form-item",{attrs:{label:"类型"}},[e("el-select",{attrs:{placeholder:"类型不限",clearable:"",disabled:t.disabled},model:{value:t.form.typeIndex,callback:function(e){t.$set(t.form,"typeIndex",e)},expression:"form.typeIndex"}},t._l(t.typeOptions,(function(t,a){return e("el-option",{key:t.value,attrs:{label:t.label,value:a}})})),1)],1):t._e(),t.dateFilter?e("el-form-item",{attrs:{label:"日期"}},[e("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1):t._e(),e("el-form-item",[e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchClick}},[t._v("查询")])],1)],1)},r=[],o=a(3822),i={props:["dateFilter","nameFilter","typeFilter"],data:function(){return{disabled:!0,form:{date:[],name:"",nameIndex:"",type:"",typeIndex:""}}},computed:{typeOptions(){return this.storeOptions[this.form.nameIndex]?this.storeOptions[this.form.nameIndex].children:[]},type(){return this.typeOptions[this.form.typeIndex]?this.typeOptions[this.form.typeIndex].label:""},...(0,o.rn)("store",["storeOptions"])},methods:{nameOptionsChange(t){this.form.typeIndex="",this.disabled=!t,this.storeOptions.forEach(((e,a)=>{e.value==t&&(this.form.nameIndex=a)}))},searchClick(){this.$emit("search",{filter_date_start:this.form.date[0],filter_date_end:this.form.date[1],name:this.form.name,type:this.type})}},mounted(){}},n=i,s=a(1001),d=(0,s.Z)(n,l,r,!1,null,null,null),m=d.exports},1496:function(t,e,a){a.r(e),a.d(e,{default:function(){return D}});var l=function(){var t=this,e=t._self._c;return e("div",[e("TableFilter",{attrs:{size:"mini",dateFilter:!0,nameFilter:!0,typeFilter:!0},on:{search:t.search}}),e("Table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],attrs:{data:t.tabaleData.data}}),e("PagiNation",{attrs:{total:t.tabaleData.total,"page-size":20,"current-page":t.tabaleData.current_page},on:{"current-change":t.currentPageChange}})],1)},r=[],o=function(){var t=this,e=t._self._c;return e("div",[e("el-table",t._b({staticStyle:{width:"100%"},attrs:{stripe:!0,height:"600"}},"el-table",t.$attrs,!1),[e("el-table-column",{attrs:{prop:"index",label:"#",width:"60"}}),e("el-table-column",{attrs:{prop:"name",label:"名称"}}),e("el-table-column",{attrs:{prop:"type",label:"类型"}}),e("el-table-column",{attrs:{prop:"amount",label:"数量",width:"80",sortable:!0}}),e("el-table-column",{attrs:{prop:"price",label:"单价",width:"80",sortable:!0}}),e("el-table-column",{attrs:{prop:"another_fee",label:"费用",width:"80",sortable:!0}}),e("el-table-column",{attrs:{prop:"client",label:"客户",width:"70"}}),e("el-table-column",{attrs:{prop:"status",label:"订单状态",width:"80"}}),e("el-table-column",{attrs:{prop:"transport_order",label:"物流单号",width:"320"}}),e("el-table-column",{attrs:{prop:"updata_date",label:"日期",width:"200",sortable:!0},scopedSlots:t._u([{key:"default",fn:function(a){return[e("i",{staticClass:"el-icon-time"}),e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.dataFormat(a.row.updata_date)))])]}}])}),e("el-table-column",{attrs:{prop:"nick",fixed:"right",label:"操作用户",width:"100"}})],1),e("EditDialogForm",{attrs:{visible:t.dialogFromVisible,editData:t.editData},on:{close:t.closeDialogFrom}})],1)},i=[],n=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:"编辑库存",visible:t.visible},on:{close:t.close}},[e("el-form",{ref:"addForm",attrs:{model:t.form,"label-position":"top",rules:t.rules}},[e("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"商品类型",prop:"type"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),e("el-form-item",{attrs:{label:"库存数量"}},[e("el-input-number",{attrs:{"controls-position":"right",min:1,max:9999999},model:{value:t.form.stock,callback:function(e){t.$set(t.form,"stock",e)},expression:"form.stock"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.complete("addForm")}}},[t._v("保存修改")]),e("el-button",{on:{click:t.close}},[t._v("取消")])],1)],1)],1)},s=[],d={props:["visible","editData"],data:function(){return{form:{},rules:{name:[{required:!0,message:"请输入要添加库存的商品名称",trigger:"blur"}],type:[{required:!0,message:"请输入要添加库存的商品类型",trigger:"blur"}]}}},methods:{close:function(){this.$refs["addForm"].resetFields(),this.$emit("close")},complete:function(t){this.$refs[t].validate((t=>{if(!t)return this.$message.warning("请正确填写表单!"),!1;this.$emit("close")}))}},computed:{},watch:{editData:{handler(t){this.form=t}}}},m=d,u=a(1001),c=(0,u.Z)(m,n,s,!1,null,null,null),p=c.exports,f=a(2325),h={components:{EditDialogForm:p},data:function(){return{dialogFromVisible:!1,editData:{}}},methods:{rowEditClick:function(t){this.editData=t,this.showDialogFrom()},rowRemoveClick:function(t){},showDialogFrom:function(){this.dialogFromVisible=!0},closeDialogFrom:function(){this.dialogFromVisible=!1},dataFormat:function(t){return(0,f.p6)(new Date(t))}}},b=h,y=(0,u.Z)(b,o,i,!1,null,null,null),_=y.exports,g=a(4598),v=a(7457),x=a(5738),F={components:{Table:_,TableFilter:g.Z,PagiNation:v.Z},data:function(){return{tabaleData:{},tableLoading:!1,query:{type:"out_order",page:1,order_by:"id",direction:"ASC",filter_name:"",filter_type:"",filter_date_start:"",filter_date_end:""}}},methods:{search:async function(t){this.query.page=1,this.query.filter_name=t.name?t.name:"",this.query.filter_type=t.type?t.type:"",this.query.filter_date_start=t.filter_date_start?t.filter_date_start:"",this.query.filter_date_start=t.filter_date_end?t.filter_date_end:"",this.getTableData(this.query)},getTableData:async function(t){this.tableLoading=!0;let e=await(0,x.YG)(t);200==e.data.status&&(this.tabaleData=e.data),this.tableLoading=!1},currentPageChange:function(t){this.query.page=t,this.getTableData(this.query)}},mounted(){this.getTableData(this.query)}},k=F,w=(0,u.Z)(k,l,r,!1,null,null,null),D=w.exports}}]);
//# sourceMappingURL=496.a21110d5.js.map